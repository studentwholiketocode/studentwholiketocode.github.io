<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>No Permission</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Flag Icons (using flagcdn for demonstration) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons/css/flag-icons.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.5s;
    }
    .glass-card {
      background: rgba(255,255,255,0.18);
      border-radius: 1.5rem;
      box-shadow: 0 8px 32px 0 rgba(31,38,135,0.37);
      backdrop-filter: blur(12px) saturate(150%);
      -webkit-backdrop-filter: blur(12px) saturate(150%);
      border: 1px solid rgba(255,255,255,0.18);
      max-width: 400px;
      margin: 2rem 0;
      padding: 2.5rem 2rem 3.5rem 2rem;
      position: relative;
      transition: background 0.5s, color 0.5s;
    }
    .permission-icon {
      font-size: 4rem;
      color: #e55353;
      margin-bottom: 1rem;
    }
    /* Language switcher inside the card */
    .glass-lang-switcher {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1.25rem;
      background: rgba(255,255,255,0.2);
      border-radius: 2rem;
      padding: 0.25rem 0.75rem 0.25rem 0.5rem;
      box-shadow: 0 2px 8px 0 rgba(31,38,135,0.07);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.12);
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
    }
    .glass-lang-switcher select {
      background: transparent;
      border: none;
      color: #222;
      font-weight: 500;
      outline: none;
      cursor: pointer;
      padding: 0.15rem 0.5rem;
      font-size: 1rem;
    }
    .glass-card.dark {
      background: rgba(34, 40, 49, 0.65);
      color: #f5f6fa;
      border: 1px solid rgba(255,255,255,0.09);
    }
    .glass-card.dark .permission-icon {
      color: #ff7675;
    }
    .glass-card .btn-outline-primary {
      border-color: #5b9bd5;
      color: #5b9bd5;
    }
    .glass-card.dark .btn-outline-primary {
      border-color: #81ecec;
      color: #81ecec;
      background: transparent;
    }
    .glass-card.dark .btn-outline-primary:hover {
      background: #222831;
      color: #ffeaa7;
    }
    .glass-card .btn-outline-primary:hover {
      background: #f4f6fc;
      color: #5b9bd5;
    }
    /* Switch styling */
    .form-switch .form-check-input {
      width: 2.2em;
      height: 1.2em;
      background-color: #d1d8e0;
      border-radius: 1em;
      transition: background 0.4s;
    }
    .form-switch .form-check-input:checked {
      background-color: #2d98da;
    }
    .theme-switch {
      position: absolute;
      bottom: 1.5rem;
      right: 1.5rem;
      z-index: 2;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    /* Dark mode for language switcher */
    .glass-card.dark .glass-lang-switcher {
      background: rgba(44,62,80,0.28);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .glass-card.dark .glass-lang-switcher select {
      color: #f5f6fa;
    }
    /* Flag icon size fix for alignment */
    .fi {
      font-size: 1.25rem;
      vertical-align: text-bottom;
    }
  </style>
</head>
<body>
  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card glass-card text-center position-relative" id="glassCard">
      <!-- Language Switcher INSIDE card, glassy, with flags -->
      <div class="glass-lang-switcher" id="langSwitcher">
        <span class="fi fi-gb"></span>
        <select class="form-select form-select-sm d-inline border-0 shadow-0" id="languageSelect" aria-label="Select language">
          <option value="en" data-flag="gb">English</option>
          <option value="vi" data-flag="vn">Ti·∫øng Vi·ªát</option>
          <option value="zh" data-flag="cn">‰∏≠Êñá</option>
          <option value="th" data-flag="th">‡πÑ‡∏ó‡∏¢</option>
        </select>
      </div>
      <!-- Main Content -->
      <div>
        <i class="bi bi-shield-lock-fill permission-icon"></i>
      </div>
      <h1 class="h4 mb-3 fw-bold text-danger" id="titleText">No Permission</h1>
      <p class="mb-4 text-secondary" id="descText">
        Sorry, you do not have permission to access this page.<br>
        Please contact the site administrator if you believe this is an error.
      </p>
      <a href="/" class="btn btn-outline-primary" id="homeBtn">
        <i class="bi bi-house-door"></i> Go to Homepage
      </a>
      <!-- Theme Switcher -->
      <div class="theme-switch">
        <label class="form-check-label" for="themeSwitch" id="themeLabel">üåô</label>
        <div class="form-check form-switch m-0">
          <input class="form-check-input" type="checkbox" id="themeSwitch">
        </div>
      </div>
    </div>
  </div>
  <script>
    // Text translations
    const translations = {
      en: {
        title: 'No Permission',
        desc: 'Sorry, you do not have permission to access this page.<br>Please contact the site administrator if you believe this is an error.',
        home: 'Go to Homepage',
        theme: 'üåô'
      },
      vi: {
        title: 'Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p',
        desc: 'Xin l·ªói, b·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p trang n√†y.<br>Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã vi√™n n·∫øu b·∫°n nghƒ© ƒë√¢y l√† l·ªói.',
        home: 'V·ªÅ trang ch·ªß',
        theme: 'üåô'
      },
      zh: {
        title: 'Êó†ÊùÉÈôê',
        desc: 'Êä±Ê≠âÔºåÊÇ®Ê≤°ÊúâÊùÉÈôêËÆøÈóÆÊ≠§È°µÈù¢„ÄÇ<br>Â¶ÇÊûúÊÇ®ËÆ§‰∏∫ËøôÊòØÈîôËØØÔºåËØ∑ËÅîÁ≥ªÁΩëÁ´ôÁÆ°ÁêÜÂëò„ÄÇ',
        home: 'ËøîÂõûÈ¶ñÈ°µ',
        theme: 'üåô'
      },
      th: {
        title: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á',
        desc: '‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ<br>‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
        home: '‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å',
        theme: 'üåô'
      }
    };

    // Set language and flag
    function setLanguage(lang) {
      document.getElementById('titleText').innerHTML = translations[lang].title;
      document.getElementById('descText').innerHTML = translations[lang].desc;
      document.getElementById('homeBtn').innerHTML = `<i class="bi bi-house-door"></i> ${translations[lang].home}`;
      document.getElementById('themeLabel').innerHTML = translations[lang].theme;
      // Set flag
      const select = document.getElementById('languageSelect');
      const flag = select.options[select.selectedIndex].getAttribute('data-flag');
      document.querySelector('.glass-lang-switcher .fi').className = `fi fi-${flag}`;
    }

    // On language change
    document.getElementById('languageSelect').addEventListener('change', function() {
      const lang = this.value;
      setLanguage(lang);
      localStorage.setItem('noperm-lang', lang);
    });

    // Theme switcher
    const themeSwitch = document.getElementById('themeSwitch');
    function setTheme(isDark) {
      document.body.classList.toggle('dark', isDark);
      document.getElementById('glassCard').classList.toggle('dark', isDark);
      localStorage.setItem('noperm-theme', isDark ? 'dark' : 'light');
    }
    themeSwitch.addEventListener('change', function() {
      setTheme(this.checked);
    });

    // On load, restore preferences
    window.onload = function() {
      // Language
      const lang = localStorage.getItem('noperm-lang') || 'en';
      document.getElementById('languageSelect').value = lang;
      setLanguage(lang);

      // Theme
      const theme = localStorage.getItem('noperm-theme') || 'light';
      const isDark = theme === 'dark';
      themeSwitch.checked = isDark;
      setTheme(isDark);
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
